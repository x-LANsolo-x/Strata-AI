# ğŸ›ï¸ System Architecture Overview

## 1. High-Level Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              INTERNET / USERS                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           PRESENTATION LAYER                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                         React SPA (Vercel)                                â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  Dashboard  â”‚  â”‚  Scenarios  â”‚  â”‚  Ideation   â”‚  â”‚    Roadmaps     â”‚  â”‚  â”‚
â”‚  â”‚  â”‚    View     â”‚  â”‚   Analyzer  â”‚  â”‚   Engine    â”‚  â”‚     Builder     â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚    Auth     â”‚  â”‚  Financial  â”‚  â”‚  Settings   â”‚  â”‚    Onboarding   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   Pages     â”‚  â”‚    Forms    â”‚  â”‚    Page     â”‚  â”‚     Wizard      â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚ HTTPS/REST API
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           APPLICATION LAYER                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                       FastAPI Backend (Render)                            â”‚  â”‚
â”‚  â”‚                                                                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚                         API GATEWAY                                  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ Authentication Middleware (JWT)                                   â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ Rate Limiting                                                     â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ Request Validation (Pydantic)                                     â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ CORS Configuration                                                â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚                                                                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚    Auth      â”‚  â”‚  Financial   â”‚  â”‚   Runway     â”‚  â”‚   Scenario   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   Service    â”‚  â”‚   Service    â”‚  â”‚   Service    â”‚  â”‚   Service    â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚     AI       â”‚  â”‚   Roadmap    â”‚  â”‚   Startup    â”‚  â”‚   Settings   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   Service    â”‚  â”‚   Service    â”‚  â”‚   Service    â”‚  â”‚   Service    â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                                 â”‚
                    â–¼                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         DATA LAYER                â”‚  â”‚            AI/ML LAYER                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚    MongoDB Atlas            â”‚  â”‚  â”‚  â”‚       LLM Abstraction Layer       â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  users                â”‚  â”‚  â”‚  â”‚  â”‚  â”‚    Provider Interface       â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  startups             â”‚  â”‚  â”‚  â”‚  â”‚  â”‚    â€¢ generate_completion()  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  financials           â”‚  â”‚  â”‚  â”‚  â”‚  â”‚    â€¢ stream_completion()    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  scenarios            â”‚  â”‚  â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚  â”‚  ideas                â”‚  â”‚  â”‚  â”‚  â”‚                                    â”‚  â”‚
â”‚  â”‚  â”‚  roadmaps             â”‚  â”‚  â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”‚  â”‚  â”‚  Groq  â”‚ â”‚ Gemini â”‚ â”‚ OpenAI â”‚ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
                                       â”‚  â”‚  â”‚ Ollama â”‚ â”‚ Custom Endpoint    â”‚ â”‚  â”‚
                                       â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
                                       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 2. Component Descriptions

### 2.1 Presentation Layer (Frontend)

| Component | Technology | Responsibility |
|-----------|------------|----------------|
| **React SPA** | React 18 + TypeScript | Single-page application shell |
| **Dashboard View** | Chart.js + Custom Components | Display runway, burn rate, cash flow charts |
| **Scenarios Analyzer** | React Hook Form + Chart.js | Create/compare what-if scenarios |
| **Ideation Engine** | Custom Components | Interface for AI pivot suggestions |
| **Roadmaps Builder** | Timeline Components | Display and edit execution roadmaps |
| **Auth Pages** | React Hook Form | Login, register, password reset |
| **Financial Forms** | React Hook Form + Validation | Data entry for revenue, expenses |
| **Onboarding Wizard** | Multi-step Form | Guided startup profile creation |
| **Settings Page** | Forms + Toggles | User preferences and configuration |

### 2.2 Application Layer (Backend)

| Service | Responsibility | Key Endpoints |
|---------|----------------|---------------|
| **Auth Service** | User registration, login, JWT management | `/api/auth/*` |
| **Startup Service** | Startup profile CRUD operations | `/api/startup/*` |
| **Financial Service** | Financial data management, CSV import | `/api/financials/*` |
| **Runway Service** | Runway calculation, projections | `/api/runway/*` |
| **Scenario Service** | What-if scenario creation and analysis | `/api/scenarios/*` |
| **AI Service** | LLM orchestration for ideation/roadmaps | `/api/ai/*` |
| **Roadmap Service** | Roadmap CRUD, progress tracking | `/api/roadmaps/*` |
| **Settings Service** | User preferences, export, account | `/api/settings/*` |

### 2.3 Data Layer

| Collection | Purpose | Key Fields |
|------------|---------|------------|
| **users** | User accounts and authentication | email, password_hash, created_at |
| **startups** | Startup profiles and metadata | name, industry, stage, team_size |
| **financials** | Monthly financial records | month, revenue, expenses, cash_balance |
| **scenarios** | Saved what-if scenarios | name, modifications, results |
| **ideas** | Saved pivot/expansion ideas | title, description, feasibility_score |
| **roadmaps** | Execution roadmaps with tasks | phases, tasks, kpis, progress |

### 2.4 AI/ML Layer

| Component | Purpose |
|-----------|---------|
| **LLM Abstraction Layer** | Unified interface for all LLM providers |
| **Provider Factory** | Instantiate correct provider based on config |
| **Prompt Templates** | Standardized prompts for ideation, roadmaps |
| **Response Parser** | Extract structured data from LLM responses |
| **Fallback Handler** | Switch to backup provider on failure |

## 3. Data Flow Diagrams

### 3.1 User Authentication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User â”‚â”€â”€â”€â”€â–¶â”‚ Frontend â”‚â”€â”€â”€â”€â–¶â”‚ Auth API â”‚â”€â”€â”€â”€â–¶â”‚ Database â”‚     â”‚   JWT    â”‚
â””â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚              â”‚                â”‚                â”‚                â”‚
   â”‚  1. Enter    â”‚                â”‚                â”‚                â”‚
   â”‚  credentials â”‚                â”‚                â”‚                â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶                â”‚                â”‚                â”‚
   â”‚              â”‚  2. POST       â”‚                â”‚                â”‚
   â”‚              â”‚  /auth/login   â”‚                â”‚                â”‚
   â”‚              â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                â”‚                â”‚
   â”‚              â”‚                â”‚  3. Verify     â”‚                â”‚
   â”‚              â”‚                â”‚  credentials   â”‚                â”‚
   â”‚              â”‚                â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                â”‚
   â”‚              â”‚                â”‚                â”‚                â”‚
   â”‚              â”‚                â”‚  4. User data  â”‚                â”‚
   â”‚              â”‚                â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚
   â”‚              â”‚                â”‚                â”‚                â”‚
   â”‚              â”‚                â”‚  5. Generate   â”‚                â”‚
   â”‚              â”‚                â”‚  JWT token     â”‚                â”‚
   â”‚              â”‚                â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
   â”‚              â”‚                â”‚                â”‚                â”‚
   â”‚              â”‚  6. Return     â”‚                â”‚                â”‚
   â”‚              â”‚  JWT + user    â”‚                â”‚                â”‚
   â”‚              â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚                â”‚
   â”‚              â”‚                â”‚                â”‚                â”‚
   â”‚  7. Store    â”‚                â”‚                â”‚                â”‚
   â”‚  JWT locally â”‚                â”‚                â”‚                â”‚
   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚                â”‚                â”‚
```

### 3.2 Runway Calculation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User â”‚     â”‚ Frontend â”‚     â”‚  Runway  â”‚     â”‚ Financialâ”‚     â”‚ Database â”‚
â”‚      â”‚     â”‚          â”‚     â”‚  Service â”‚     â”‚  Service â”‚     â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚              â”‚                â”‚                â”‚                â”‚
   â”‚  1. View     â”‚                â”‚                â”‚                â”‚
   â”‚  dashboard   â”‚                â”‚                â”‚                â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶                â”‚                â”‚                â”‚
   â”‚              â”‚  2. GET        â”‚                â”‚                â”‚
   â”‚              â”‚  /runway/current                â”‚                â”‚
   â”‚              â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                â”‚                â”‚
   â”‚              â”‚                â”‚  3. Get latest â”‚                â”‚
   â”‚              â”‚                â”‚  financials    â”‚                â”‚
   â”‚              â”‚                â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                â”‚
   â”‚              â”‚                â”‚                â”‚  4. Query      â”‚
   â”‚              â”‚                â”‚                â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
   â”‚              â”‚                â”‚                â”‚                â”‚
   â”‚              â”‚                â”‚                â”‚  5. Financial  â”‚
   â”‚              â”‚                â”‚                â”‚  records       â”‚
   â”‚              â”‚                â”‚                â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
   â”‚              â”‚                â”‚  6. Financial  â”‚                â”‚
   â”‚              â”‚                â”‚  data          â”‚                â”‚
   â”‚              â”‚                â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚
   â”‚              â”‚                â”‚                â”‚                â”‚
   â”‚              â”‚                â”‚  7. Calculate: â”‚                â”‚
   â”‚              â”‚                â”‚  runway = cash â”‚                â”‚
   â”‚              â”‚                â”‚  / burn_rate   â”‚                â”‚
   â”‚              â”‚                â”‚                â”‚                â”‚
   â”‚              â”‚  8. Return     â”‚                â”‚                â”‚
   â”‚              â”‚  runway data   â”‚                â”‚                â”‚
   â”‚              â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚                â”‚
   â”‚              â”‚                â”‚                â”‚                â”‚
   â”‚  9. Display  â”‚                â”‚                â”‚                â”‚
   â”‚  dashboard   â”‚                â”‚                â”‚                â”‚
   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚                â”‚                â”‚
```

### 3.3 AI Ideation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User â”‚     â”‚ Frontend â”‚     â”‚    AI    â”‚     â”‚   LLM    â”‚     â”‚ Database â”‚
â”‚      â”‚     â”‚          â”‚     â”‚  Service â”‚     â”‚ Provider â”‚     â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚              â”‚                â”‚                â”‚                â”‚
   â”‚  1. Request  â”‚                â”‚                â”‚                â”‚
   â”‚  pivot ideas â”‚                â”‚                â”‚                â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶                â”‚                â”‚                â”‚
   â”‚              â”‚  2. POST       â”‚                â”‚                â”‚
   â”‚              â”‚  /ai/ideation  â”‚                â”‚                â”‚
   â”‚              â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                â”‚                â”‚
   â”‚              â”‚                â”‚  3. Fetch      â”‚                â”‚
   â”‚              â”‚                â”‚  startup       â”‚                â”‚
   â”‚              â”‚                â”‚  context       â”‚                â”‚
   â”‚              â”‚                â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
   â”‚              â”‚                â”‚                â”‚                â”‚
   â”‚              â”‚                â”‚  4. Context    â”‚                â”‚
   â”‚              â”‚                â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
   â”‚              â”‚                â”‚                â”‚                â”‚
   â”‚              â”‚                â”‚  5. Build      â”‚                â”‚
   â”‚              â”‚                â”‚  prompt with   â”‚                â”‚
   â”‚              â”‚                â”‚  context       â”‚                â”‚
   â”‚              â”‚                â”‚                â”‚                â”‚
   â”‚              â”‚                â”‚  6. Call LLM   â”‚                â”‚
   â”‚              â”‚                â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                â”‚
   â”‚              â”‚                â”‚                â”‚  7. Generate   â”‚
   â”‚              â”‚                â”‚                â”‚  completion    â”‚
   â”‚              â”‚                â”‚  8. LLM        â”‚                â”‚
   â”‚              â”‚                â”‚  response      â”‚                â”‚
   â”‚              â”‚                â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚
   â”‚              â”‚                â”‚                â”‚                â”‚
   â”‚              â”‚                â”‚  9. Parse &    â”‚                â”‚
   â”‚              â”‚                â”‚  structure     â”‚                â”‚
   â”‚              â”‚                â”‚  response      â”‚                â”‚
   â”‚              â”‚                â”‚                â”‚                â”‚
   â”‚              â”‚  10. Return    â”‚                â”‚                â”‚
   â”‚              â”‚  pivot ideas   â”‚                â”‚                â”‚
   â”‚              â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚                â”‚
   â”‚              â”‚                â”‚                â”‚                â”‚
   â”‚  11. Display â”‚                â”‚                â”‚                â”‚
   â”‚  ideas       â”‚                â”‚                â”‚                â”‚
   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚                â”‚                â”‚
```

## 4. Technology Stack Details

### 4.1 Frontend Stack

```yaml
Framework: React 18.2+
Language: TypeScript 5.0+
Build Tool: Vite 5.0+
Styling: Tailwind CSS 3.4+
State Management:
  Server State: TanStack Query (React Query) 5.0+
  Client State: Zustand 4.0+ (minimal usage)
Forms: React Hook Form 7.0+
Charts: Chart.js 4.0+ with react-chartjs-2
Animations: Framer Motion 10.0+
HTTP Client: Axios 1.6+
Routing: React Router 6.0+
Icons: Lucide React
Date Handling: date-fns 3.0+
Validation: Zod 3.0+
```

### 4.2 Backend Stack

```yaml
Framework: FastAPI 0.109+
Language: Python 3.11+
Validation: Pydantic 2.0+
Database Driver: Motor 3.3+ (async MongoDB)
ORM/ODM: Beanie 1.24+ (optional, for ODM patterns)
Authentication: python-jose 3.3+ (JWT)
Password Hashing: passlib 1.7+ with bcrypt
HTTP Client: httpx 0.26+ (async)
LLM Integration: 
  - groq 0.4+
  - google-generativeai 0.3+
  - openai 1.10+
  - ollama 0.1+
Environment: python-dotenv 1.0+
Testing: pytest 8.0+ with pytest-asyncio
Linting: Ruff 0.2+
Type Checking: mypy 1.8+
```

### 4.3 Database

```yaml
Primary: MongoDB Atlas (M0 Free Tier)
  - Storage: 512MB
  - Connections: 500 max
  - Region: AWS us-east-1 or eu-west-1
  
Indexes:
  - users: email (unique)
  - startups: user_id
  - financials: startup_id, month (compound)
  - scenarios: startup_id, created_at
```

### 4.4 Infrastructure

```yaml
Frontend Hosting: Vercel
  - Free tier: 100GB bandwidth
  - Automatic HTTPS
  - Edge CDN
  - Preview deployments

Backend Hosting: Render
  - Free tier: 750 hours/month
  - Auto-sleep after 15min inactivity
  - 512MB RAM
  - Automatic HTTPS

CI/CD: GitHub Actions
  - Lint on PR
  - Test on PR
  - Deploy on merge to main
```

## 5. Security Architecture Summary

| Layer | Security Measure |
|-------|------------------|
| **Transport** | HTTPS/TLS 1.3 everywhere |
| **Authentication** | JWT with RS256, 24h expiry |
| **Password Storage** | bcrypt with cost factor 12 |
| **API Security** | Rate limiting, CORS, input validation |
| **Data Isolation** | User ID in all queries, no cross-tenant access |
| **Secrets** | Environment variables, never in code |
| **LLM Privacy** | Ollama option for local processing |

## 6. Scalability Considerations

### Current (MVP - Free Tier)
- **Concurrent Users:** ~100
- **Database:** 512MB (~10,000 startups)
- **API Requests:** Rate limited by Render (750 hrs/month)
- **LLM Requests:** Groq free tier (~30 req/min)

### Future Scaling Path
1. **Vertical:** Upgrade Render to paid tier (more RAM, no sleep)
2. **Horizontal:** Add load balancer, multiple backend instances
3. **Database:** Upgrade MongoDB Atlas tier
4. **Caching:** Add Redis for session/calculation caching
5. **CDN:** Already using Vercel Edge for frontend

## 7. Error Handling Strategy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ERROR HANDLING LAYERS                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  FRONTEND                                                        â”‚
â”‚  â€¢ React Error Boundaries for component crashes                  â”‚
â”‚  â€¢ Axios interceptors for API errors                            â”‚
â”‚  â€¢ Toast notifications for user feedback                        â”‚
â”‚  â€¢ Graceful degradation when backend unavailable                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  BACKEND                                                         â”‚
â”‚  â€¢ Global exception handler middleware                          â”‚
â”‚  â€¢ Pydantic validation errors â†’ 422 responses                   â”‚
â”‚  â€¢ Database errors â†’ 500 with safe message                      â”‚
â”‚  â€¢ LLM errors â†’ fallback provider or graceful failure           â”‚
â”‚  â€¢ Structured logging for debugging                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  LLM LAYER                                                       â”‚
â”‚  â€¢ Retry with exponential backoff (3 attempts)                  â”‚
â”‚  â€¢ Provider fallback chain: Groq â†’ Gemini â†’ Error              â”‚
â”‚  â€¢ Timeout handling (30s max)                                   â”‚
â”‚  â€¢ Rate limit detection and queuing                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 8. Monitoring & Observability

| Aspect | Tool/Approach | Details |
|--------|---------------|---------|
| **Uptime** | Render built-in | Basic uptime monitoring |
| **Errors** | Console logging | Structured JSON logs |
| **Performance** | Frontend analytics | Page load times, API latency |
| **Usage** | Custom analytics | Feature usage tracking |
| **LLM Costs** | Provider dashboards | Monitor API usage/costs |

---

**Next:** See [02_database_schema.md](./02_database_schema.md) for detailed database design.
